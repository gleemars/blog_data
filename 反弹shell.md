---
title: 反弹shell
tags: 
categorires: 
author: 
top: 
---

## 文件描述符重定向

> 文件描述符代表的是文件, 文件包括设备
> 文件描述符的操作都是从左到右的
> 重定向符号的左边一般是文件描述符
> 如果是重定向到文件描述符, 那么目标描述符前面一定要有一个相邻的 '&'
> 文件描述符会唯一指向一个文件, 重定向之后, 这个文件描述符指向另外一个文件

### 文件描述符重定向到文件
1. n<word : 重定向 n 的输入为 word
2. n>word : 重定向 n 的输出为 word
3. &>word : 重定向 stdout 和 stderr 到 word (另外一种写法: >&word, 都等价于 ">word 2>&1"), 这里的&的意义是值左边是stdout和stderr

### 文件描述符重定向到描述符, 这里的右边不能是文件, 并且&必须在右边的文件描述符的前面
1. n<&m : 将n重定向到m, n获得m的读权限, 并且n在重定向有效的生命周期, n的输入从m来
2. n>&m : 将n重定向到m, n获得m的写权限, 并且n在重定向有效的生命周期, n的输出到m去
> 这里的&必须在m前面

> 如果是 mkdir 2&>1 会变成个 "mkdir 2 &>1", 即创建目录名为 2 的目录, 并将stdout, stderr重定向到文件描述符1


### 文件描述符的绑定
1. exec n <> file : 以读写的方式打开file, 并使用n作为其文件描述符
2. exec n <\>&m : 将n重定向到m
3. exec n<&- : 关闭文件描述符n

> exec 是绑定描述符, 接下来的命令都会使用这些绑定, 并且exec可以创建文件描述符


## 反弹shell
> /dev/tcp/ip/port
> /dev/udp/ip/port



